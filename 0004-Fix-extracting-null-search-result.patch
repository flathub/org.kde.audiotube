From ed87d3654cff9172c7b701a4e913ce90d988abe8 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Mathis=20Br=C3=BCchert?= <mbb@kaidan.im>
Date: Fri, 31 Mar 2023 16:01:39 +0200
Subject: [PATCH 4/5] Fix extracting null search result

---
 src/ytmusic.cpp | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/ytmusic.cpp b/src/ytmusic.cpp
index 01f9dc3..68c3c8e 100644
--- a/src/ytmusic.cpp
+++ b/src/ytmusic.cpp
@@ -362,6 +362,9 @@ std::vector<search::SearchResultItem> YTMusic::search(
 
     std::vector<search::SearchResultItem> output;
     for (const auto &result : results) {
+        if (result.is_none()) {
+            continue;
+        }
         if (const auto opt = extract_search_result(result); opt.has_value()) {
             output.push_back(opt.value());
         }
-- 
2.40.0

